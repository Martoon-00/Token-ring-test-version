В каждой подсети будет Хранитель токена (не то же, что главный узел).

Хранитель токена отправляет следующему при помощи TCP число пи. (напоминаю, у нас гарантированная доставка)
Также каждый Хранитель с периодичностью t отправляет всем сообщение о том, что он жив.
Если он умрёт, другие узлы это поймут и начнут голосование.


Голосование
Когда узел понимает что Хранителя нет, то отправляет всем сообщение, ответы на него будут содержать Уникальные значения узлов. Если среди ответов нету содержащих Уникальное значение больше чем у данного узла, то он становится Хранителем токена.

